<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="content-type"
	content="application/xhtml+xml; charset=UTF-8" />
<title>Hello App Engine</title>
</head>

<script>
    xmlhttp = new XMLHttpRequest();
    function sendRequest(){
    	alert("yau");
        xmlhttp.onreadystatechange = function (){
            if(xmlhttp.readyState == 4){
                alert("Registered successfully!");
            }
        }
        var obj = {   	username:document.getElementById("userId").value,
                        password:document.getElementById("pwd").value,
                        confirmation:document.getElementById("confirm").value,
                        email:document.getElementById("email").value,
                        name:document.getElementById("name").value,
                        prof:document.getElementById("profile").value,
                        phone:document.getElementById("phone").value,
                        cell:document.getElementById("cell").value,
                        ad:document.getElementById("ad").value,
                        cad:document.getElementById("cad").value,
                        postal:document.getElementById("p1").value + "-" + document.getElementById("p2").value,
                        nif:document.getElementById("nif").value};
        var json = JSON.stringify(myObj);


        xmlhttp.open("POST", "https://applied-terrain-344017.appspot.com/rest/register/create", true);
        xmlhttp.setRequestHeader("Content-Type", "application/json");
        xmlhttp.send(myJson);
    }
</script>

<body>

	<p>Register users</p>

	<br>
	<label>UserID</label>
	<input type="text" id="userId">

	<br>
	<label>E-mail</label>
	<input type="text" id="email">

	<br>
	<label>Name</label>
	<input type="text" id="name">

	<br>
	<label>Password</label>
	<input type="password" id="pwd">

	<br>
	<label>Confirmation</label>
	<input type="password" id="confirm">

	<br>
	<p>Optional fields</p>

	<label>Phone Number</label>
	<input type="text" id="phone">

	<br>
	<label>Cellphone Number</label>
	<input type="text" id="cell">

	<br>
	<label>Address</label>
	<input type="text" id="ad">

	<br>
	<label>Complementary Address</label>
	<input type="text" id="cad">

	<br>
	<label>Postal Code</label>
	<input type="text" id="p1" maxlength="4">
	<label>-</label>
	<input type="text" id="p2" maxlength="3">

	<br>
	<label>NIF</label>
	<input type="text" id="nif">

	<br>
	<label>Profile</label>
	<select id="prof">
		<option value="">-</option>
		<option value="private">Private</option>
		<option value="public">Public</option>
	</select>

	<br>
	<br>
	<input type="button" value="Registar" onclick="sendRequest();" />
</body>
</html>